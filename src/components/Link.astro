---
import { defaultLocale } from "../i18n/ui";
import { useTranslatedPath, getLangFromUrl } from "../i18n/utils";

type Props = {
    href: string;
    keepLocale?: boolean;
    class?: string;
};

const lang = getLangFromUrl(Astro.url);
const translatePath = useTranslatedPath(lang);

const { href, class: className, keepLocale = true } = Astro.props;
---

<a
    class={className}
    href={keepLocale
        ? translatePath(lang === defaultLocale ? href || "/" : href)
        : href}
>
    <slot />
</a>
